<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Redux Overview - TyrangYang_Blog</title><meta name="Description" content=""><meta property="og:title" content="Redux Overview" />
<meta property="og:description" content="Redux Document: English 中文
What is Redux  Redux is a predictable state container for JavaScript apps.
 Redux also created by Facebook and it is a improvement from Flux. Redux is state management for any view library (mostly react)
When use Redux Redux is design for complex UI, multiple view source or many interaction with server. If a simple UI, Redux is not necessary
Workflow   Redux Workflow   Example for Redux core In index." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tyrangyang.github.io/TyrangYang_blog/redux-overview/" />
<meta property="article:published_time" content="2020-09-07T14:30:17-07:00" />
<meta property="article:modified_time" content="2020-09-07T14:30:17-07:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Redux Overview"/>
<meta name="twitter:description" content="Redux Document: English 中文
What is Redux  Redux is a predictable state container for JavaScript apps.
 Redux also created by Facebook and it is a improvement from Flux. Redux is state management for any view library (mostly react)
When use Redux Redux is design for complex UI, multiple view source or many interaction with server. If a simple UI, Redux is not necessary
Workflow   Redux Workflow   Example for Redux core In index."/>
<meta name="application-name" content="TyrangYang_Blog">
<meta name="apple-mobile-web-app-title" content="TyrangYang_Blog"><link rel="shortcut icon" type="image/x-icon" href="https://tyrangyang.github.io/TyrangYang_blog/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="https://tyrangyang.github.io/TyrangYang_blog/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://tyrangyang.github.io/TyrangYang_blog/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="https://tyrangyang.github.io/TyrangYang_blog/apple-touch-icon.png"><link rel="manifest" href="https://tyrangyang.github.io/TyrangYang_blog/site.webmanifest"><link rel="canonical" href="https://tyrangyang.github.io/TyrangYang_blog/redux-overview/" /><link rel="prev" href="https://tyrangyang.github.io/TyrangYang_blog/react-posts-archive/" /><link rel="next" href="https://tyrangyang.github.io/TyrangYang_blog/jest-overview/" /><link rel="stylesheet" href="https://tyrangyang.github.io/TyrangYang_blog/lib/normalize/normalize.min.css"><link rel="stylesheet" href="https://tyrangyang.github.io/TyrangYang_blog/css/style.min.css"><link rel="stylesheet" href="https://tyrangyang.github.io/TyrangYang_blog/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="https://tyrangyang.github.io/TyrangYang_blog/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Redux Overview",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/tyrangyang.github.io\/TyrangYang_blog\/redux-overview\/"
        },"genre": "posts","keywords": "redux, react","wordcount":  1015 ,
        "url": "https:\/\/tyrangyang.github.io\/TyrangYang_blog\/redux-overview\/","datePublished": "2020-09-07T14:30:17-07:00","dateModified": "2020-09-07T14:30:17-07:00","publisher": {
            "@type": "Organization",
            "name": "Haolin Yang"},"author": {
                "@type": "Person",
                "name": "Haolin Yang"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="https://tyrangyang.github.io/TyrangYang_blog/" title="TyrangYang_Blog">TyrangYang_Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/posts/"><i class='fas fa-book-open'></i>  Posts </a><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/tags/"><i class='fas fa-tags'></i>  Tags </a><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/categories/"><i class='fab fa-buffer'></i>  Categories </a><a class="menu-item" href="https://github.com/TyrangYang/TyrangYang_blog" title="Blog github" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw fa-fw'></i>  </a><a class="menu-item" href="https://tyrangyang.github.io/" title="home page" rel="noopener noreffer" target="_blank"><i class="fas fa-home"></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="https://tyrangyang.github.io/TyrangYang_blog/" title="TyrangYang_Blog">TyrangYang_Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/posts/" title=""><i class='fas fa-book-open'></i> Posts</a><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/tags/" title=""><i class='fas fa-tags'></i> Tags</a><a class="menu-item" href="https://tyrangyang.github.io/TyrangYang_blog/categories/" title=""><i class='fab fa-buffer'></i> Categories</a><a class="menu-item" href="https://github.com/TyrangYang/TyrangYang_blog" title="Blog github" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw fa-fw'></i></a><a class="menu-item" href="https://tyrangyang.github.io/" title="home page" rel="noopener noreffer" target="_blank"><i class="fas fa-home"></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Redux Overview</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://tyrangyang.github.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Haolin Yang</a></span>&nbsp;<span class="post-category">included in <a href="https://tyrangyang.github.io/TyrangYang_blog/categories/overview/"><i class="far fa-folder fa-fw"></i>Overview</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-09-07">2020-09-07</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1015 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-redux">What is Redux</a></li>
    <li><a href="#when-use-redux">When use Redux</a></li>
    <li><a href="#workflow">Workflow</a></li>
    <li><a href="#example-for-redux-core">Example for Redux core</a></li>
    <li><a href="#async-action">Async Action</a></li>
    <li><a href="#use-with-react-react-redux">Use with react (react-redux)</a>
      <ul>
        <li><a href="#useselector--usedispatch">useSelector &amp; useDispatch</a></li>
      </ul>
    </li>
    <li><a href="#use-reduxjstoolkit-with-react">Use @reduxjs/toolkit with react</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Redux Document: <a href="https://redux.js.org/introduction/getting-started" target="_blank" rel="noopener noreffer">English</a> <a href="https://cn.redux.js.org" target="_blank" rel="noopener noreffer">中文</a></p>
<h2 id="what-is-redux">What is Redux</h2>
<blockquote>
<p>Redux is a predictable state container for JavaScript apps.</p>
</blockquote>
<p>Redux also created by Facebook and it is a improvement from Flux. Redux is state management for any view library (mostly react)</p>
<h2 id="when-use-redux">When use Redux</h2>
<p>Redux is design for complex UI, multiple view source or many interaction with server. If a simple UI, Redux is <strong>not necessary</strong></p>
<h2 id="workflow">Workflow</h2>
<figure>
    <img src="https://tyrangyang.github.io/TyrangYang_blog/images/vuex/redux.jpeg" width="70%" height="70%"/> <figcaption>
            <h4>Redux Workflow</h4>
        </figcaption>
</figure>

<h2 id="example-for-redux-core">Example for Redux core</h2>
<p>In <code>index.html</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Redux Core<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- Use redux as UMD --&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://unpkg.com/redux@latest/dist/redux.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- redux will be imported as Window.Redux --&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;./main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// UMD import
</span><span class="c1"></span><span class="kr">const</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="nx">thunk</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">ReduxThunk</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">applyMiddleware</span><span class="p">,</span> <span class="nx">createStore</span><span class="p">,</span> <span class="nx">combineReducers</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Redux</span><span class="p">;</span>

<span class="c1">// init state
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">initUserState</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">initPostState</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">content</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// reducer
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">userReducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">prevState</span> <span class="o">=</span> <span class="nx">initUserState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;CHANGE_NAME&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="p">};</span>
        <span class="k">case</span> <span class="s1">&#39;CHANGE_AGE&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span> <span class="nx">age</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="p">};</span>
        <span class="k">case</span> <span class="s1">&#39;ERR&#39;</span><span class="o">:</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Err: &#39;</span> <span class="o">+</span> <span class="nx">action</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">prevState</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">postReducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">prevState</span> <span class="o">=</span> <span class="nx">initPostState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;ADD_POST&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">content</span> <span class="p">};</span>

        <span class="k">default</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">prevState</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">reducers</span> <span class="o">=</span> <span class="nx">combineReducers</span><span class="p">({</span>
    <span class="nx">user</span><span class="o">:</span> <span class="nx">userReducer</span><span class="p">,</span>
    <span class="nx">post</span><span class="o">:</span> <span class="nx">postReducer</span><span class="p">,</span>
<span class="p">});</span> <span class="c1">// store will looks like {user: ... , post: ...}
</span><span class="c1"></span>
<span class="kr">const</span> <span class="nx">logger</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">getState</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span> <span class="p">...</span><span class="nx">action</span> <span class="p">});</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getState</span><span class="p">());</span>
    <span class="nx">next</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// create store
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">reducers</span><span class="p">,</span> <span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">,</span> <span class="nx">logger</span><span class="p">));</span> <span class="c1">// init
</span><span class="c1"></span>
<span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;State: &#39;</span><span class="p">,</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">());</span>
<span class="p">});</span>

<span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;CHANGE_NAME&#39;</span><span class="p">,</span> <span class="nx">payload</span><span class="o">:</span> <span class="s1">&#39;DVA89&#39;</span> <span class="p">});</span>
<span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;CHANGE_AGE&#39;</span><span class="p">,</span> <span class="nx">payload</span><span class="o">:</span> <span class="mi">30</span> <span class="p">});</span>
<span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;CHANGE_AGE&#39;</span><span class="p">,</span> <span class="nx">payload</span><span class="o">:</span> <span class="mi">25</span> <span class="p">});</span>
<span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;ADD_POST&#39;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s1">&#39;a test post&#39;</span> <span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="async-action">Async Action</h2>
<blockquote>
<p>add <code>redux-thunk</code> first</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// UMD import
</span><span class="c1"></span><span class="kr">const</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="nx">thunk</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">ReduxThunk</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">applyMiddleware</span><span class="p">,</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Redux</span><span class="p">;</span>

<span class="c1">// init state
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">initState</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">users</span><span class="o">:</span> <span class="p">[],</span>
    <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">fetched</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">error</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// reducer
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">userReducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">prevState</span> <span class="o">=</span> <span class="nx">initState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;USER_PENDING&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span> <span class="nx">fetching</span><span class="o">:</span> <span class="kc">true</span> <span class="p">};</span>
        <span class="k">case</span> <span class="s1">&#39;USER_FULFILLED&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span>
                <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nx">fetched</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nx">users</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span>
            <span class="p">};</span>
        <span class="k">case</span> <span class="s1">&#39;USER_REJECTED&#39;</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span>
                <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nx">fetched</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nx">error</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span>
            <span class="p">};</span>
        <span class="k">case</span> <span class="s1">&#39;test&#39;</span><span class="o">:</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;test type&#39;</span><span class="p">);</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="p">...</span><span class="nx">prevState</span><span class="p">,</span>
            <span class="p">};</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="c1">// statements_def
</span><span class="c1"></span>            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">prevState</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">logger</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">getState</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getState</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
    <span class="nx">next</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// create store
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">userReducer</span><span class="p">,</span> <span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">,</span> <span class="nx">logger</span><span class="p">));</span>

<span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;State: &#39;</span><span class="p">,</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">());</span>
<span class="p">});</span>

<span class="c1">// async
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">((</span><span class="nx">dispatch</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;USER_PENDING&#39;</span> <span class="p">});</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://jsonplaceholder.typicode.com/users?_limit=5&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;USER_FULFILLED&#39;</span><span class="p">,</span> <span class="nx">payload</span><span class="o">:</span> <span class="nx">response</span> <span class="p">});</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;USER_REJECTED&#39;</span><span class="p">,</span> <span class="nx">payload</span><span class="o">:</span> <span class="nx">err</span> <span class="p">});</span>
        <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// sync
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span> <span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>If add <code>redux-promise-middleware</code> in middleware, dispatch can change to this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;USER&#39;</span><span class="p">,</span>
    <span class="nx">payload</span><span class="o">:</span> <span class="nx">axios</span><span class="p">(</span><span class="s1">&#39;https://jsonplaceholder.typicode.com/users?_limit=5&#39;</span><span class="p">),</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>suffix <code>_PENDING</code> <code>_FULFILLED</code> <code>_REJECTED</code> will be add automatically.</p>
<h2 id="use-with-react-react-redux">Use with react (react-redux)</h2>
<p>Document: <a href="https://react-redux.js.org/introduction/quick-start">https://react-redux.js.org/introduction/quick-start</a></p>
<ol>
<li>warp provider in index.js</li>
<li>separate reducer</li>
<li>separate action</li>
</ol>
<p>Skeleton:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">connect</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-redux&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">addUserAction</span> <span class="nx">from</span> <span class="s1">&#39;../action/addUserAction&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ClassComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">mapStateToProps</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">({</span>
    <span class="nx">user</span><span class="o">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">user</span><span class="p">,</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">mapDispatchToProps</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">addUserAction</span> <span class="p">};</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">connect</span><span class="p">(</span><span class="nx">mapStateToProps</span><span class="p">,</span> <span class="nx">mapDispatchToProps</span><span class="p">)(</span><span class="nx">ClassComponent</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="useselector--usedispatch">useSelector &amp; useDispatch</h3>
<p><code>useSelector</code> is a hook provided by react-redux that approximately equivalent to <code>mapStateToProps</code></p>
<p><code>useDispatch</code> dispatch a action to store which is to replace <code>mapDispatchToProps</code></p>
<h2 id="use-reduxjstoolkit-with-react">Use @reduxjs/toolkit with react</h2>
<p>Document: <a href="https://redux-toolkit.js.org/introduction/quick-start">https://redux-toolkit.js.org/introduction/quick-start</a></p>
<div class="details admonition Tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>Tip<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">slicer = reducer + action</div>
        </div>
    </div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createSlice</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@reduxjs/toolkit&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">UserSlice</span> <span class="o">=</span> <span class="nx">createSlice</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;userData&#39;</span><span class="p">,</span>
    <span class="nx">initialState</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">user</span><span class="o">:</span> <span class="p">[],</span>
        <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">fetched</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">error</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nx">reducers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">userPending</span><span class="o">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="nx">fetching</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">fetched</span><span class="o">:</span> <span class="kc">false</span> <span class="p">};</span>
        <span class="p">},</span>
        <span class="nx">userFulfilled</span><span class="o">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
                <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nx">fetched</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nx">user</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span>
            <span class="p">};</span>
        <span class="p">},</span>
        <span class="nx">userRejected</span><span class="o">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
                <span class="nx">fetching</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nx">fetched</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nx">user</span><span class="o">:</span> <span class="p">[],</span>
                <span class="nx">error</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span>
            <span class="p">};</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="p">{</span> <span class="nx">userPending</span><span class="p">,</span> <span class="nx">userFulfilled</span><span class="p">,</span> <span class="nx">userRejected</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">UserSlice</span><span class="p">.</span><span class="nx">actions</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">getUser</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">dispatch</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">dispatch</span><span class="p">(</span><span class="nx">userPending</span><span class="p">());</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://jsonplaceholder.typicode.com/users?_limit=5&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">userFulfilled</span><span class="p">(</span><span class="nx">data</span><span class="p">)))</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">userRejected</span><span class="p">(</span><span class="nx">err</span><span class="p">)));</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">UserSlice</span><span class="p">.</span><span class="nx">reducer</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>In component:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">useSelector</span><span class="p">,</span> <span class="nx">useDispatch</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-redux&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">getUser</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./userSlice&#39;</span><span class="p">;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">User</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">userData</span> <span class="o">=</span> <span class="nx">useSelector</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">userData</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nx">useDispatch</span><span class="p">();</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">dispatch</span><span class="p">(</span><span class="nx">getUser</span><span class="p">());</span>
    <span class="p">},</span> <span class="p">[]);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">userData</span><span class="p">);</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">hi</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In store.js:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">configureStore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@reduxjs/toolkit&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">userReducer</span> <span class="nx">from</span> <span class="s1">&#39;../features/user/userSlice&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">configureStore</span><span class="p">({</span>
    <span class="nx">reducer</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">userData</span><span class="o">:</span> <span class="nx">userReducer</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-09-07</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="https://tyrangyang.github.io/TyrangYang_blog/redux-overview/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="https://tyrangyang.github.io/TyrangYang_blog/tags/redux/">redux</a>,&nbsp;<a href="https://tyrangyang.github.io/TyrangYang_blog/tags/react/">react</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="https://tyrangyang.github.io/TyrangYang_blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="https://tyrangyang.github.io/TyrangYang_blog/react-posts-archive/" class="prev" rel="prev" title="React Posts Archive"><i class="fas fa-angle-left fa-fw"></i>React Posts Archive</a>
            <a href="https://tyrangyang.github.io/TyrangYang_blog/jest-overview/" class="next" rel="next" title="Jest Overview">Jest Overview<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.69.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://tyrangyang.github.io/" target="_blank">Haolin Yang</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license" style="position:relative; top:3px" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":1000},"comment":{},"search":{"algoliaAppID":"QXEV52XWDS","algoliaIndex":"blog","algoliaSearchKey":"db56d05ebbeed337adca1ef261004dcc","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":null,"type":"algolia"}};</script><script type="text/javascript" src="https://tyrangyang.github.io/TyrangYang_blog/js/theme.min.js"></script></body>
</html>
